<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vistula Airlines</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ... (pozostałe style pozostają bez zmian) ... */

        /* Dodatkowe style dla modalu pasażerów */
        .passenger-modal {
            padding: 20px;
        }

        .passenger-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .passenger-type {
            font-weight: 600;
        }

        .passenger-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .passenger-count {
            min-width: 30px;
            text-align: center;
        }

        .passenger-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 1px solid var(--border);
            background: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .passenger-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .travel-class {
            margin-top: 25px;
        }

        .class-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }

        .class-option {
            padding: 12px 15px;
            border: 1px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .class-option:hover {
            border-color: var(--secondary);
            background: #f5fbff;
        }

        .class-option.selected {
            border-color: var(--secondary);
            background: rgba(0, 160, 225, 0.1);
        }

        .modal-actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 30px;
            gap: 15px;
        }

        .modal-btn {
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .modal-btn.cancel {
            background: white;
            border: 1px solid var(--border);
        }

        .modal-btn.cancel:hover {
            background: #f5f5f5;
        }

        .modal-btn.confirm {
            background: var(--secondary);
            color: white;
            border: 1px solid var(--secondary);
        }

        .modal-btn.confirm:hover {
            background: var(--primary);
        }
    </style>
</head>
<body>
    <!-- ... (pozostała część HTML pozostaje bez zmian) ... -->

    <!-- Modal pasażerów i klasy -->
    <div class="modal" id="passengerModal">
        <div class="modal-content passenger-modal">
            <h2>Pasażerowie i klasa podróży</h2>
            
            <div class="passenger-controls">
                <div class="passenger-row">
                    <div class="passenger-type">Dorośli (12+ lat)</div>
                    <div class="passenger-controls">
                        <button class="passenger-btn" id="decreaseAdult">-</button>
                        <span class="passenger-count" id="adultCount">1</span>
                        <button class="passenger-btn" id="increaseAdult">+</button>
                    </div>
                </div>
                
                <div class="passenger-row">
                    <div class="passenger-type">Dzieci (2-11 lat)</div>
                    <div class="passenger-controls">
                        <button class="passenger-btn" id="decreaseChild">-</button>
                        <span class="passenger-count" id="childCount">0</span>
                        <button class="passenger-btn" id="increaseChild">+</button>
                    </div>
                </div>
                
                <div class="passenger-row">
                    <div class="passenger-type">Niemowlęta (0-1 lat)</div>
                    <div class="passenger-controls">
                        <button class="passenger-btn" id="decreaseInfant">-</button>
                        <span class="passenger-count" id="infantCount">0</span>
                        <button class="passenger-btn" id="increaseInfant">+</button>
                    </div>
                </div>
            </div>
            
            <div class="travel-class">
                <h3>Klasa podróży</h3>
                <div class="class-options">
                    <div class="class-option selected" data-class="economy">
                        <strong>Economy</strong>
                        <p>Standardowe miejsce, wyżywienie na pokładzie</p>
                    </div>
                    <div class="class-option" data-class="premium">
                        <strong>Premium Economy</strong>
                        <p>Więcej przestrzeni, lepsze menu</p>
                    </div>
                    <div class="class-option" data-class="business">
                        <strong>Business</strong>
                        <p>Miejsca z pełnym rozkładem, premium service</p>
                    </div>
                    <div class="class-option" data-class="first">
                        <strong>First Class</strong>
                        <p>Najwyższy komfort podróży</p>
                    </div>
                </div>
            </div>
            
            <div class="modal-actions">
                <button class="modal-btn cancel" id="cancelPassenger">Anuluj</button>
                <button class="modal-btn confirm" id="confirmPassenger">Zastosuj</button>
            </div>
        </div>
    </div>

    <script>
        // Menu hamburger
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        
        hamburgerBtn.addEventListener('click', function() {
            mobileMenu.classList.toggle('active');
        });

        // Dropdowny
        document.getElementById('languageBtn').addEventListener('click', function(e) {
            e.stopPropagation();
            document.getElementById('languageDropdown').classList.toggle('show');
            document.getElementById('currencyDropdown').classList.remove('show');
        });

        document.getElementById('currencyBtn').addEventListener('click', function(e) {
            e.stopPropagation();
            document.getElementById('currencyDropdown').classList.toggle('show');
            document.getElementById('languageDropdown').classList.remove('show');
        });

        // Zamknij dropdowny po kliknięciu poza nimi
        window.addEventListener('click', function() {
            document.getElementById('languageDropdown').classList.remove('show');
            document.getElementById('currencyDropdown').classList.remove('show');
        });

        // Kalendarz i wybór klasy podróży
        function initCalendar() {
            const departureDate = document.getElementById('departureDate');
            const returnDate = document.getElementById('returnDate');
            const passengerTrigger = document.getElementById('passengerTrigger');
            const passengerModal = document.getElementById('passengerModal');
            const passengerSummary = document.getElementById('passengerSummary');
            
            // Zmienne dla pasażerów i klasy
            let adultCount = 1;
            let childCount = 0;
            let infantCount = 0;
            let selectedClass = 'economy';
            
            // Otwórz modal pasażerów
            passengerTrigger.addEventListener('click', function() {
                passengerModal.style.display = 'flex';
            });
            
            // Zamknij modal pasażerów
            document.getElementById('cancelPassenger').addEventListener('click', function() {
                passengerModal.style.display = 'none';
            });
            
            // Zastosuj wybór pasażerów
            document.getElementById('confirmPassenger').addEventListener('click', function() {
                updatePassengerSummary();
                passengerModal.style.display = 'none';
            });
            
            // Zarządzanie liczbą pasażerów
            document.getElementById('increaseAdult').addEventListener('click', function() {
                if (adultCount < 9) adultCount++;
                updatePassengerCounts();
            });
            
            document.getElementById('decreaseAdult').addEventListener('click', function() {
                if (adultCount > 1) adultCount--;
                updatePassengerCounts();
            });
            
            document.getElementById('increaseChild').addEventListener('click', function() {
                if (childCount < 8) childCount++;
                updatePassengerCounts();
            });
            
            document.getElementById('decreaseChild').addEventListener('click', function() {
                if (childCount > 0) childCount--;
                updatePassengerCounts();
            });
            
            document.getElementById('increaseInfant').addEventListener('click', function() {
                if (infantCount < adultCount) infantCount++;
                updatePassengerCounts();
            });
            
            document.getElementById('decreaseInfant').addEventListener('click', function() {
                if (infantCount > 0) infantCount--;
                updatePassengerCounts();
            });
            
            // Wybór klasy podróży
            const classOptions = document.querySelectorAll('.class-option');
            classOptions.forEach(option => {
                option.addEventListener('click', function() {
                    classOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedClass = this.getAttribute('data-class');
                });
            });
            
            // Aktualizacja liczników pasażerów
            function updatePassengerCounts() {
                document.getElementById('adultCount').textContent = adultCount;
                document.getElementById('childCount').textContent = childCount;
                document.getElementById('infantCount').textContent = infantCount;
                
                // Niemowlęta nie mogą przekraczać liczby dorosłych
                document.getElementById('increaseInfant').disabled = infantCount >= adultCount;
                document.getElementById('decreaseInfant').disabled = infantCount <= 0;
                document.getElementById('decreaseAdult').disabled = adultCount <= 1;
                document.getElementById('increaseAdult').disabled = adultCount >= 9;
                document.getElementById('decreaseChild').disabled = childCount <= 0;
                document.getElementById('increaseChild').disabled = childCount >= 8;
            }
            
            // Aktualizacja podsumowania pasażerów
            function updatePassengerSummary() {
                let summary = '';
                
                if (adultCount > 0) {
                    summary += adultCount + ' ' + (adultCount === 1 ? 'dorosły' : 'dorosłych');
                }
                
                if (childCount > 0) {
                    if (summary) summary += ', ';
                    summary += childCount + ' ' + (childCount === 1 ? 'dziecko' : 'dzieci');
                }
                
                if (infantCount > 0) {
                    if (summary) summary += ', ';
                    summary += infantCount + ' ' + (infantCount === 1 ? 'niemowlę' : 'niemowląt');
                }
                
                // Dodaj klasę podróży
                let classText = '';
                switch(selectedClass) {
                    case 'economy': classText = 'Economy'; break;
                    case 'premium': classText = 'Premium Economy'; break;
                    case 'business': classText = 'Business'; break;
                    case 'first': classText = 'First Class'; break;
                }
                
                summary += ', ' + classText;
                passengerSummary.textContent = summary;
            }
            
            // Inicjalizacja kalendarza (uproszczona wersja)
            departureDate.addEventListener('click', function() {
                alert('Kalendarz wylotu - tutaj można dodać pełną implementację');
                // W prawdziwej aplikacji można użyć biblioteki jak Flatpickr
            });
            
            returnDate.addEventListener('click', function() {
                alert('Kalendarz powrotu - tutaj można dodać pełną implementację');
            });
            
            // Zamknij modal po kliknięciu poza nim
            window.addEventListener('click', function(event) {
                if (event.target === passengerModal) {
                    passengerModal.style.display = 'none';
                }
            });
        }

        // Inicjalizacja po załadowaniu strony
        window.addEventListener('DOMContentLoaded', function() {
            initCalendar();
        });
    </script>
</body>
</html>